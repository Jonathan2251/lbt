
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Library &#8212; Tutorial: Creating an LLVM Toolchain for the Cpu0 Architecture</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Optimization" href="opt.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>Tutorial: Creating an LLVM Toolchain for the Cpu0 Architecture</span></a></h1>
        <h2 class="heading"><span>Library</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="opt.html">Optimization</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="library">
<span id="sec-lib"></span><h1>Library<a class="headerlink" href="#library" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#compiler-rt" id="id16">Compiler-rt</a></p></li>
<li><p><a class="reference internal" href="#software-float-point-support" id="id17">Software Float Point Support</a></p></li>
</ul>
</div>
<p>Since Cpu0 has not hardware float point instructions, it needs soft float point
library to finish the floating point operation. LLVM compiler-rt project include
software floating point library implementation <a class="reference internal" href="#lib-empty"><span class="std std-numref">Fig. 6</span></a> , so we choose it as the
implementation.</p>
<p>Since compiler-rt uses unix/linux rootfs structure, we fill the gap by add few
empty include-files in exlbt/include.</p>
<figure class="align-default" id="id14">
<span id="lib-empty"></span><img alt="_images/empty.png" src="_images/empty.png" />
<figcaption>
<p><span class="caption-number">Fig. 6 </span><span class="caption-text">compiler-rt/lib/builtins’ software float library</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<div class="graphviz"><img src="_images/graphviz-5e0d5ffa52ae40a97f50fdd549c241a3c4461a70.png" alt="// dot -Tpng lib.gv -o lib.png
digraph G {
  rankdir=LR;

  node [shape=&quot;&quot;,style=filled,fillcolor=lightyellow]; &quot;Soft floating lib&quot;;
  node [shape=&quot;&quot;,style=solid,color=black];
  &quot;User program&quot; -&gt; &quot;clang/llc&quot; [ label = &quot;c/c++&quot; ];
  &quot;Soft floating lib&quot; -&gt; &quot;clang/llc&quot; [ label = &quot;c&quot; ];
  &quot;clang/llc&quot; -&gt; lld [ label = &quot;obj&quot; ];
}" class="graphviz" /></div>
<section id="compiler-rt">
<h2><a class="toc-backref" href="#id16">Compiler-rt</a><a class="headerlink" href="#compiler-rt" title="Permalink to this headline">¶</a></h2>
<p>Compiler-rt is a project with runtime libraries implentation <a class="footnote-reference brackets" href="#id13" id="id1">2</a> .
Compiler-rt/lib/builtins provides functions for basic operations such as +, -,
*, /, … on type of float or double and for conversion between float and
integer, or on type of over 32-bit. The compier-rt/lib/builtins/README.txt
<a class="footnote-reference brackets" href="#builtins-readme" id="id2">3</a> includes the dependent functions the whole builtins called.
The dependent functions is a small part of libm listed in
compier-rt/lib/builtins/int_math.h <a class="footnote-reference brackets" href="#builtins-int-math" id="id3">4</a> .</p>
<table class="docutils align-default" id="id15">
<caption><span class="caption-number">Table 2 </span><span class="caption-text">compiler-rt builtins dependences on newlib/libm (open source libc for bare metal)</span><a class="headerlink" href="#id15" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>library</p></th>
<th class="head"><p>functions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ported already</p></td>
<td><p>abort</p></td>
</tr>
<tr class="row-odd"><td><p>libm/common</p></td>
<td><p>finite, isinf</p></td>
</tr>
<tr class="row-even"><td><p>libm/math</p></td>
<td><p>copysign, fabs, fmax, log, scalbn</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>fabs (may includes fabsf, fabsl).</p></li>
<li><p>Only type of complex need above, others (float and double) depend on abort()
only which I ported in lbt/exlbt/libsoftfloat/compiler-rt/cpu0/abort.c.</p></li>
<li><p>All test cases in compiler-rt/test/builtins/Unit depend on
printf(%lld or %llX, …), I ported from
compiler-rt/lib/sanitizer_common/sanitizer_printf.cpp to
lbt/exlbt/input/sanitizer_printf.cpp.</p></li>
<li><p>Next step is to porting these dependent functions from newlib/libm.</p></li>
</ul>
<p>Web of newlib is here <a class="footnote-reference brackets" href="#newlib" id="id4">5</a> and newlib/libm here <a class="footnote-reference brackets" href="#newlib-libm" id="id5">6</a> .</p>
<p>The libgcc’s Integer plus Soft float library  <a class="footnote-reference brackets" href="#lib-gcc" id="id6">7</a> <a class="footnote-reference brackets" href="#int-lib" id="id7">8</a>
<a class="footnote-reference brackets" href="#sw-float-lib" id="id8">9</a> are equal to functions of compiler-rt’s builtins.</p>
<p>Though the ‘rt’ means RunTime libaraies, most of these functions
written in target-independent C form and can be compiled and static-linked
into target. When you compile the following c code, llc generates
<strong>jsub __addsf3</strong> to call compiler-rt float function since Cpu0 hasn’t hardware
float-instructions so Cpu0 backend doesn’t handle it, and llvm treats it
as a function call for float-add instruction.</p>
<p class="rubric">lbt/exlbt/input/ch_call_compilerrt_func.c</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">clang</span> <span class="o">-</span><span class="n">target</span> <span class="n">mips</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span> <span class="o">-</span><span class="n">S</span> <span class="n">ch_call_compilerrt_func</span><span class="o">.</span><span class="n">c</span> <span class="o">-</span><span class="n">emit</span><span class="o">-</span><span class="n">llvm</span> <span class="o">-</span><span class="n">o</span> <span class="n">ch_call_compilerrt_func</span><span class="o">.</span><span class="n">ll</span>
<span class="o">//</span> <span class="o">~/</span><span class="n">llvm</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">llc</span> <span class="o">-</span><span class="n">march</span><span class="o">=</span><span class="n">cpu0</span> <span class="o">-</span><span class="n">mcpu</span><span class="o">=</span><span class="n">cpu032II</span> <span class="o">-</span><span class="n">relocation</span><span class="o">-</span><span class="n">model</span><span class="o">=</span><span class="n">static</span> <span class="o">-</span><span class="n">filetype</span><span class="o">=</span><span class="n">asm</span> <span class="n">ch_call_compilerrt_func</span><span class="o">.</span><span class="n">ll</span> <span class="o">-</span><span class="n">o</span> <span class="o">-</span>

<span class="o">///</span> <span class="n">start</span>
<span class="nb">float</span> <span class="n">ch_call_compilerrt_func</span><span class="p">()</span>
<span class="p">{</span>
  <span class="nb">float</span> <span class="n">a</span> <span class="o">=</span> <span class="mf">3.1</span><span class="p">;</span>
  <span class="nb">float</span> <span class="n">b</span> <span class="o">=</span> <span class="mf">2.2</span><span class="p">;</span>
  <span class="nb">float</span> <span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">;</span>

  <span class="k">return</span> <span class="n">c</span><span class="p">;</span>
<span class="p">}</span>

</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">chungshu@ChungShudeMacBook-Air input % </span>clang -target mips-unknown-linux-gnu -S
<span class="go">ch_call_compilerrt_func.c -emit-llvm</span>
<span class="gp">chungshu@ChungShudeMacBook-Air input % </span>cat ch_call_compilerrt_func.ll
<span class="go">  ...</span>
<span class="gp">  %</span><span class="nv">4</span> <span class="o">=</span> load float, float* %1, align <span class="m">4</span>
<span class="gp">  %</span><span class="nv">5</span> <span class="o">=</span> load float, float* %2, align <span class="m">4</span>
<span class="gp">  %</span><span class="nv">6</span> <span class="o">=</span> fadd float %4, %5

<span class="gp">chungshu@ChungShudeMacBook-Air input % </span>~/llvm/test/build/bin/llc -march<span class="o">=</span>cpu0
<span class="go">-mcpu=cpu032II -relocation-model=static -filetype=asm ch_call_compilerrt_func.ll -o -</span>
<span class="go">      ...</span>
<span class="go">      ld      $4, 20($fp)</span>
<span class="go">      ld      $5, 16($fp)</span>
<span class="go">      jsub    __addsf3</span>
</pre></div>
</div>
<p>For some brar-metal or embedded application, the C code doesn’t need the
file and high-level IO in libc.
Libm provides a lots of functions to support software floating point beyond
basic operations <a class="footnote-reference brackets" href="#math" id="id9">10</a> .
Libc provides file, high-level IO functions and basic float functions <a class="footnote-reference brackets" href="#clib" id="id10">11</a> .</p>
<p>Cpu0 hires Compiler-rt/lib/builtins and the tiny single module printf-stdarg.c
<a class="footnote-reference brackets" href="#printf-stdarg" id="id11">12</a> at this point.
Directory exlib/libsoftfloat/compiler-rt-12.x/builtins is a symbolic link to
llvm-project/compiler-rt/lib/builtins which is the floating point library from
compiler-rt <a class="footnote-reference brackets" href="#id13" id="id12">2</a>. The compiler-rt/lib/builtins is a
target-independent C form of software float library implementation. Cpu0
implements compiler-rt-12.x/cpu0/abort.c only at this point for supporting
this feature.</p>
</section>
<section id="software-float-point-support">
<h2><a class="toc-backref" href="#id17">Software Float Point Support</a><a class="headerlink" href="#software-float-point-support" title="Permalink to this headline">¶</a></h2>
<p>The following sanitizer_printf.cpp extended from compiler-rt can support
printf(“%lld”). It’s implementation calling some floating lib functions
in compiler-rt/lib/builtins.</p>
<p class="rubric">exlbt/include/math.h</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#ifndef _MATH_H_</span>
<span class="c1">#define	_MATH_H_</span>

<span class="o">//</span><span class="c1">#ifdef HAS_COMPLEX</span>
 <span class="c1">#ifndef HUGE_VALF</span>
  <span class="c1">#define HUGE_VALF (1.0e999999999F)</span>
 <span class="c1">#endif</span>

 <span class="c1">#if !defined(INFINITY)</span>
  <span class="c1">#define INFINITY (HUGE_VALF)</span>
 <span class="c1">#endif</span>

 <span class="c1">#if !defined(NAN)</span>
  <span class="c1">#define NAN (0.0F/0.0F)</span>
 <span class="c1">#endif</span>

 <span class="nb">float</span> <span class="n">cabsf</span><span class="p">(</span><span class="nb">float</span> <span class="nb">complex</span><span class="p">)</span> <span class="p">;</span>
<span class="o">//</span><span class="c1">#endif</span>
<span class="c1">#endif</span>
</pre></div>
</div>
<p class="rubric">exlbt/include/stdio.h</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#ifndef _STDIO_H_</span>
<span class="c1">#define	_STDIO_H_</span>

<span class="c1">#define stdin   0</span>
<span class="c1">#define stdout  1</span>
<span class="c1">#define stderr  2</span>

<span class="c1">#define size_t unsigned int</span>

<span class="c1">#endif</span>
</pre></div>
</div>
<p class="rubric">exlbt/include/stdlib.h</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#ifndef _STDLIB_H_</span>
<span class="c1">#define	_STDLIB_H_</span>

<span class="c1">#ifdef __cplusplus</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="p">{</span>
<span class="c1">#endif</span>

<span class="n">void</span> <span class="n">abort</span><span class="p">();</span>

<span class="c1">#ifdef __cplusplus</span>
<span class="p">}</span>
<span class="c1">#endif</span>

<span class="c1">#endif</span>
</pre></div>
</div>
<p class="rubric">exlbt/include/string.h</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#ifndef _STRING_H_</span>
<span class="c1">#define	_STRING_H_</span>


<span class="c1">#endif</span>
</pre></div>
</div>
<p class="rubric">exlbt/libsoftfloat/compiler-rt/cpu0/abort.c</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span> <span class="n">Copyright</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="mi">2002</span><span class="p">,</span> <span class="n">Marek</span> <span class="n">Michalkiewicz</span>
   <span class="n">All</span> <span class="n">rights</span> <span class="n">reserved</span><span class="o">.</span>

   <span class="n">Redistribution</span> <span class="ow">and</span> <span class="n">use</span> <span class="ow">in</span> <span class="n">source</span> <span class="ow">and</span> <span class="n">binary</span> <span class="n">forms</span><span class="p">,</span> <span class="k">with</span> <span class="ow">or</span> <span class="n">without</span>
   <span class="n">modification</span><span class="p">,</span> <span class="n">are</span> <span class="n">permitted</span> <span class="n">provided</span> <span class="n">that</span> <span class="n">the</span> <span class="n">following</span> <span class="n">conditions</span> <span class="n">are</span> <span class="n">met</span><span class="p">:</span>

   <span class="o">*</span> <span class="n">Redistributions</span> <span class="n">of</span> <span class="n">source</span> <span class="n">code</span> <span class="n">must</span> <span class="n">retain</span> <span class="n">the</span> <span class="n">above</span> <span class="n">copyright</span>
     <span class="n">notice</span><span class="p">,</span> <span class="n">this</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">conditions</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">following</span> <span class="n">disclaimer</span><span class="o">.</span>
   <span class="o">*</span> <span class="n">Redistributions</span> <span class="ow">in</span> <span class="n">binary</span> <span class="n">form</span> <span class="n">must</span> <span class="n">reproduce</span> <span class="n">the</span> <span class="n">above</span> <span class="n">copyright</span>
     <span class="n">notice</span><span class="p">,</span> <span class="n">this</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">conditions</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">following</span> <span class="n">disclaimer</span> <span class="ow">in</span>
     <span class="n">the</span> <span class="n">documentation</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">other</span> <span class="n">materials</span> <span class="n">provided</span> <span class="k">with</span> <span class="n">the</span>
     <span class="n">distribution</span><span class="o">.</span>
   <span class="o">*</span> <span class="n">Neither</span> <span class="n">the</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">copyright</span> <span class="n">holders</span> <span class="n">nor</span> <span class="n">the</span> <span class="n">names</span> <span class="n">of</span>
     <span class="n">contributors</span> <span class="n">may</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">endorse</span> <span class="ow">or</span> <span class="n">promote</span> <span class="n">products</span> <span class="n">derived</span>
     <span class="kn">from</span> <span class="nn">this</span> <span class="n">software</span> <span class="n">without</span> <span class="n">specific</span> <span class="n">prior</span> <span class="n">written</span> <span class="n">permission</span><span class="o">.</span>

  <span class="n">THIS</span> <span class="n">SOFTWARE</span> <span class="n">IS</span> <span class="n">PROVIDED</span> <span class="n">BY</span> <span class="n">THE</span> <span class="n">COPYRIGHT</span> <span class="n">HOLDERS</span> <span class="n">AND</span> <span class="n">CONTRIBUTORS</span> <span class="s2">&quot;AS IS&quot;</span>
  <span class="n">AND</span> <span class="n">ANY</span> <span class="n">EXPRESS</span> <span class="n">OR</span> <span class="n">IMPLIED</span> <span class="n">WARRANTIES</span><span class="p">,</span> <span class="n">INCLUDING</span><span class="p">,</span> <span class="n">BUT</span> <span class="n">NOT</span> <span class="n">LIMITED</span> <span class="n">TO</span><span class="p">,</span> <span class="n">THE</span>
  <span class="n">IMPLIED</span> <span class="n">WARRANTIES</span> <span class="n">OF</span> <span class="n">MERCHANTABILITY</span> <span class="n">AND</span> <span class="n">FITNESS</span> <span class="n">FOR</span> <span class="n">A</span> <span class="n">PARTICULAR</span> <span class="n">PURPOSE</span>
  <span class="n">ARE</span> <span class="n">DISCLAIMED</span><span class="o">.</span> <span class="n">IN</span> <span class="n">NO</span> <span class="n">EVENT</span> <span class="n">SHALL</span> <span class="n">THE</span> <span class="n">COPYRIGHT</span> <span class="n">OWNER</span> <span class="n">OR</span> <span class="n">CONTRIBUTORS</span> <span class="n">BE</span>
  <span class="n">LIABLE</span> <span class="n">FOR</span> <span class="n">ANY</span> <span class="n">DIRECT</span><span class="p">,</span> <span class="n">INDIRECT</span><span class="p">,</span> <span class="n">INCIDENTAL</span><span class="p">,</span> <span class="n">SPECIAL</span><span class="p">,</span> <span class="n">EXEMPLARY</span><span class="p">,</span> <span class="n">OR</span>
  <span class="n">CONSEQUENTIAL</span> <span class="n">DAMAGES</span> <span class="p">(</span><span class="n">INCLUDING</span><span class="p">,</span> <span class="n">BUT</span> <span class="n">NOT</span> <span class="n">LIMITED</span> <span class="n">TO</span><span class="p">,</span> <span class="n">PROCUREMENT</span> <span class="n">OF</span>
  <span class="n">SUBSTITUTE</span> <span class="n">GOODS</span> <span class="n">OR</span> <span class="n">SERVICES</span><span class="p">;</span> <span class="n">LOSS</span> <span class="n">OF</span> <span class="n">USE</span><span class="p">,</span> <span class="n">DATA</span><span class="p">,</span> <span class="n">OR</span> <span class="n">PROFITS</span><span class="p">;</span> <span class="n">OR</span> <span class="n">BUSINESS</span>
  <span class="n">INTERRUPTION</span><span class="p">)</span> <span class="n">HOWEVER</span> <span class="n">CAUSED</span> <span class="n">AND</span> <span class="n">ON</span> <span class="n">ANY</span> <span class="n">THEORY</span> <span class="n">OF</span> <span class="n">LIABILITY</span><span class="p">,</span> <span class="n">WHETHER</span> <span class="n">IN</span>
  <span class="n">CONTRACT</span><span class="p">,</span> <span class="n">STRICT</span> <span class="n">LIABILITY</span><span class="p">,</span> <span class="n">OR</span> <span class="n">TORT</span> <span class="p">(</span><span class="n">INCLUDING</span> <span class="n">NEGLIGENCE</span> <span class="n">OR</span> <span class="n">OTHERWISE</span><span class="p">)</span>
  <span class="n">ARISING</span> <span class="n">IN</span> <span class="n">ANY</span> <span class="n">WAY</span> <span class="n">OUT</span> <span class="n">OF</span> <span class="n">THE</span> <span class="n">USE</span> <span class="n">OF</span> <span class="n">THIS</span> <span class="n">SOFTWARE</span><span class="p">,</span> <span class="n">EVEN</span> <span class="n">IF</span> <span class="n">ADVISED</span> <span class="n">OF</span> <span class="n">THE</span>
  <span class="n">POSSIBILITY</span> <span class="n">OF</span> <span class="n">SUCH</span> <span class="n">DAMAGE</span><span class="o">.</span> <span class="o">*/</span>


<span class="n">void</span>
<span class="n">abort</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">for</span> <span class="p">(;;);</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="rubric">exlbt/input/sanitizer_internal_defs.h</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//===--</span> <span class="n">sanitizer_internal_defs</span><span class="o">.</span><span class="n">h</span> <span class="o">-------------------------------*-</span> <span class="n">C</span><span class="o">++</span> <span class="o">-*-===//</span>
<span class="o">//</span>
<span class="o">//</span> <span class="n">Part</span> <span class="n">of</span> <span class="n">the</span> <span class="n">LLVM</span> <span class="n">Project</span><span class="p">,</span> <span class="n">under</span> <span class="n">the</span> <span class="n">Apache</span> <span class="n">License</span> <span class="n">v2</span><span class="mf">.0</span> <span class="k">with</span> <span class="n">LLVM</span> <span class="n">Exceptions</span><span class="o">.</span>
<span class="o">//</span> <span class="n">See</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">llvm</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">LICENSE</span><span class="o">.</span><span class="n">txt</span> <span class="k">for</span> <span class="n">license</span> <span class="n">information</span><span class="o">.</span>
<span class="o">//</span> <span class="n">SPDX</span><span class="o">-</span><span class="n">License</span><span class="o">-</span><span class="n">Identifier</span><span class="p">:</span> <span class="n">Apache</span><span class="o">-</span><span class="mf">2.0</span> <span class="n">WITH</span> <span class="n">LLVM</span><span class="o">-</span><span class="n">exception</span>
<span class="o">//</span>
<span class="o">//===----------------------------------------------------------------------===//</span>
<span class="o">//</span>
<span class="o">//</span> <span class="n">This</span> <span class="n">file</span> <span class="ow">is</span> <span class="n">shared</span> <span class="n">between</span> <span class="n">AddressSanitizer</span> <span class="ow">and</span> <span class="n">ThreadSanitizer</span><span class="o">.</span>
<span class="o">//</span> <span class="n">It</span> <span class="n">contains</span> <span class="n">macro</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">run</span><span class="o">-</span><span class="n">time</span> <span class="n">libraries</span> <span class="n">code</span><span class="o">.</span>
<span class="o">//===----------------------------------------------------------------------===//</span>
<span class="c1">#ifndef SANITIZER_DEFS_H</span>
<span class="c1">#define SANITIZER_DEFS_H</span>

<span class="o">//</span> <span class="n">For</span> <span class="n">portability</span> <span class="n">reasons</span> <span class="n">we</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">include</span> <span class="n">stddef</span><span class="o">.</span><span class="n">h</span><span class="p">,</span> <span class="n">stdint</span><span class="o">.</span><span class="n">h</span> <span class="ow">or</span> <span class="nb">any</span> <span class="n">other</span>
<span class="o">//</span> <span class="n">system</span> <span class="n">header</span><span class="p">,</span> <span class="n">but</span> <span class="n">we</span> <span class="n">do</span> <span class="n">need</span> <span class="n">some</span> <span class="n">basic</span> <span class="n">types</span> <span class="n">that</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">defined</span>
<span class="o">//</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">portable</span> <span class="n">way</span> <span class="n">by</span> <span class="n">the</span> <span class="n">language</span> <span class="n">itself</span><span class="o">.</span>
<span class="n">namespace</span> <span class="n">__sanitizer</span> <span class="p">{</span>

<span class="c1">#if defined(_WIN64)</span>
<span class="o">//</span> <span class="mi">64</span><span class="o">-</span><span class="n">bit</span> <span class="n">Windows</span> <span class="n">uses</span> <span class="n">LLP64</span> <span class="n">data</span> <span class="n">model</span><span class="o">.</span>
<span class="n">typedef</span> <span class="n">unsigned</span> <span class="n">long</span> <span class="n">long</span> <span class="n">uptr</span><span class="p">;</span>
<span class="n">typedef</span> <span class="n">signed</span> <span class="n">long</span> <span class="n">long</span> <span class="n">sptr</span><span class="p">;</span>
<span class="c1">#else</span>
<span class="n">typedef</span> <span class="n">unsigned</span> <span class="n">long</span> <span class="n">uptr</span><span class="p">;</span>
<span class="n">typedef</span> <span class="n">signed</span> <span class="n">long</span> <span class="n">sptr</span><span class="p">;</span>
<span class="c1">#endif  // defined(_WIN64)</span>
<span class="c1">#if defined(__x86_64__)</span>
<span class="o">//</span> <span class="n">Since</span> <span class="n">x32</span> <span class="n">uses</span> <span class="n">ILP32</span> <span class="n">data</span> <span class="n">model</span> <span class="ow">in</span> <span class="mi">64</span><span class="o">-</span><span class="n">bit</span> <span class="n">hardware</span> <span class="n">mode</span><span class="p">,</span> <span class="n">we</span> <span class="n">must</span> <span class="n">use</span>
<span class="o">//</span> <span class="mi">64</span><span class="o">-</span><span class="n">bit</span> <span class="n">pointer</span> <span class="n">to</span> <span class="n">unwind</span> <span class="n">stack</span> <span class="n">frame</span><span class="o">.</span>
<span class="n">typedef</span> <span class="n">unsigned</span> <span class="n">long</span> <span class="n">long</span> <span class="n">uhwptr</span><span class="p">;</span>
<span class="c1">#else</span>
<span class="n">typedef</span> <span class="n">uptr</span> <span class="n">uhwptr</span><span class="p">;</span>
<span class="c1">#endif</span>

<span class="n">typedef</span> <span class="n">unsigned</span> <span class="n">char</span> <span class="n">u8</span><span class="p">;</span>
<span class="n">typedef</span> <span class="n">unsigned</span> <span class="n">short</span> <span class="n">u16</span><span class="p">;</span>
<span class="n">typedef</span> <span class="n">unsigned</span> <span class="nb">int</span> <span class="n">u32</span><span class="p">;</span>
<span class="n">typedef</span> <span class="n">unsigned</span> <span class="n">long</span> <span class="n">long</span> <span class="n">u64</span><span class="p">;</span>
<span class="n">typedef</span> <span class="n">signed</span> <span class="n">char</span> <span class="n">s8</span><span class="p">;</span>
<span class="n">typedef</span> <span class="n">signed</span> <span class="n">short</span> <span class="n">s16</span><span class="p">;</span>
<span class="n">typedef</span> <span class="n">signed</span> <span class="nb">int</span> <span class="n">s32</span><span class="p">;</span>
<span class="n">typedef</span> <span class="n">signed</span> <span class="n">long</span> <span class="n">long</span> <span class="n">s64</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Check</span> <span class="n">macro</span>
<span class="c1">#define RAW_CHECK_MSG(expr, msg) </span>

<span class="c1">#define RAW_CHECK(expr) RAW_CHECK_MSG(expr, #expr)</span>

<span class="c1">#define CHECK_IMPL(c1, op, c2)</span>

<span class="c1">#define CHECK(a)       CHECK_IMPL((a), !=, 0)</span>
<span class="c1">#define CHECK_EQ(a, b) CHECK_IMPL((a), ==, (b))</span>
<span class="c1">#define CHECK_NE(a, b) CHECK_IMPL((a), !=, (b))</span>
<span class="c1">#define CHECK_LT(a, b) CHECK_IMPL((a), &lt;,  (b))</span>
<span class="c1">#define CHECK_LE(a, b) CHECK_IMPL((a), &lt;=, (b))</span>
<span class="c1">#define CHECK_GT(a, b) CHECK_IMPL((a), &gt;,  (b))</span>
<span class="c1">#define CHECK_GE(a, b) CHECK_IMPL((a), &gt;=, (b))</span>

<span class="p">}</span>  <span class="o">//</span> <span class="n">namespace</span> <span class="n">__sanitizer</span>

<span class="c1">#endif</span>
</pre></div>
</div>
<p class="rubric">exlbt/input/sanitizer_printf.cpp</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>//===-- sanitizer_printf.cpp ----------------------------------------------===//
//
// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.
// See https://llvm.org/LICENSE.txt for license information.
// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
//
//===----------------------------------------------------------------------===//
//
// This file is shared between AddressSanitizer and ThreadSanitizer.
//
// Internal printf function, used inside run-time libraries.
// We can&#39;t use libc printf because we intercept some of the functions used
// inside it.
//===----------------------------------------------------------------------===//

#include &quot;sanitizer_internal_defs.h&quot;

#include &lt;stdio.h&gt;
#include &lt;stdarg.h&gt;

#include &quot;debug.h&quot;

extern &quot;C&quot; int putchar(int c);

static void abort() {
  for (;;);
}

#if SANITIZER_WINDOWS &amp;&amp; defined(_MSC_VER) &amp;&amp; _MSC_VER &lt; 1800 &amp;&amp;               \
      !defined(va_copy)
# define va_copy(dst, src) ((dst) = (src))
#endif

namespace __sanitizer {

static int AppendChar(char **buff, const char *buff_end, char c) {
  if (*buff &lt; buff_end) {
    **buff = c;
    (*buff)++;
  }
  return 1;
}

// Appends number in a given base to buffer. If its length is less than
// |minimal_num_length|, it is padded with leading zeroes or spaces, depending
// on the value of |pad_with_zero|.
static int AppendNumber(char **buff, const char *buff_end, u64 absolute_value,
                        u8 base, u8 minimal_num_length, bool pad_with_zero,
                        bool negative, bool uppercase) {
  uptr const kMaxLen = 30;
  RAW_CHECK(base == 10 || base == 16);
  RAW_CHECK(base == 10 || !negative);
  RAW_CHECK(absolute_value || !negative);
  RAW_CHECK(minimal_num_length &lt; kMaxLen);
  int result = 0;
  if (negative &amp;&amp; minimal_num_length)
    --minimal_num_length;
  if (negative &amp;&amp; pad_with_zero)
    result += AppendChar(buff, buff_end, &#39;-&#39;);
  uptr num_buffer[kMaxLen];
  int pos = 0;
  do {
    RAW_CHECK_MSG((uptr)pos &lt; kMaxLen, &quot;AppendNumber buffer overflow&quot;);
    num_buffer[pos++] = absolute_value % base;
    absolute_value /= base;
  } while (absolute_value &gt; 0);
  if (pos &lt; minimal_num_length) {
#if 1
    abort();
#else
    // Make sure compiler doesn&#39;t insert call to memset here.
    internal_memset(&amp;num_buffer[pos], 0,
                    sizeof(num_buffer[0]) * (minimal_num_length - pos));
    pos = minimal_num_length;
#endif
  }
  RAW_CHECK(pos &gt; 0);
  pos--;
  for (; pos &gt;= 0 &amp;&amp; num_buffer[pos] == 0; pos--) {
    char c = (pad_with_zero || pos == 0) ? &#39;0&#39; : &#39; &#39;;
    result += AppendChar(buff, buff_end, c);
  }
  if (negative &amp;&amp; !pad_with_zero) result += AppendChar(buff, buff_end, &#39;-&#39;);
  for (; pos &gt;= 0; pos--) {
    char digit = static_cast&lt;char&gt;(num_buffer[pos]);
    digit = (digit &lt; 10) ? &#39;0&#39; + digit : (uppercase ? &#39;A&#39; : &#39;a&#39;) + digit - 10;
    result += AppendChar(buff, buff_end, digit);
  }
  return result;
}

static int AppendUnsigned(char **buff, const char *buff_end, u64 num, u8 base,
                          u8 minimal_num_length, bool pad_with_zero,
                          bool uppercase) {
  return AppendNumber(buff, buff_end, num, base, minimal_num_length,
                      pad_with_zero, false /* negative */, uppercase);
}

static int AppendSignedDecimal(char **buff, const char *buff_end, s64 num,
                               u8 minimal_num_length, bool pad_with_zero) {
  bool negative = (num &lt; 0);
  return AppendNumber(buff, buff_end, (u64)(negative ? -num : num), 10,
                      minimal_num_length, pad_with_zero, negative,
                      false /* uppercase */);
}


// Use the fact that explicitly requesting 0 width (%0s) results in UB and
// interpret width == 0 as &quot;no width requested&quot;:
// width == 0 - no width requested
// width  &lt; 0 - left-justify s within and pad it to -width chars, if necessary
// width  &gt; 0 - right-justify s, not implemented yet
static int AppendString(char **buff, const char *buff_end, int width,
                        int max_chars, const char *s) {
  if (!s)
    s = &quot;&lt;null&gt;&quot;;
  int result = 0;
  for (; *s; s++) {
    if (max_chars &gt;= 0 &amp;&amp; result &gt;= max_chars)
      break;
    result += AppendChar(buff, buff_end, *s);
  }
  // Only the left justified strings are supported.
  while (width &lt; -result)
    result += AppendChar(buff, buff_end, &#39; &#39;);
  return result;
}

static int AppendPointer(char **buff, const char *buff_end, u64 ptr_value) {
  int result = 0;
  result += AppendString(buff, buff_end, 0, -1, &quot;0x&quot;);
  result += AppendUnsigned(buff, buff_end, ptr_value, 16,
// By running clang -E, can get the macro value for SANITIZER_POINTER_FORMAT_LENGTH is (12)
//                           SANITIZER_POINTER_FORMAT_LENGTH,
                           (12),
                           true /* pad_with_zero */, false /* uppercase */);
  return result;
}

int VSNPrintf(char *buff, int buff_length,
              const char *format, va_list args) {
  static const char *kPrintfFormatsHelp =
      &quot;Supported Printf formats: %([0-9]*)?(z|ll)?{d,u,x,X}; %p; &quot;
      &quot;%[-]([0-9]*)?(\\.\\*)?s; %c\n&quot;;
  RAW_CHECK(format);
  RAW_CHECK(buff_length &gt; 0);
  const char *buff_end = &amp;buff[buff_length - 1];
  const char *cur = format;
  int result = 0;
  for (; *cur; cur++) {
    if (*cur != &#39;%&#39;) {
      result += AppendChar(&amp;buff, buff_end, *cur);
      continue;
    }
    cur++;
    bool left_justified = *cur == &#39;-&#39;;
    if (left_justified)
      cur++;
    bool have_width = (*cur &gt;= &#39;0&#39; &amp;&amp; *cur &lt;= &#39;9&#39;);
    bool pad_with_zero = (*cur == &#39;0&#39;);
    int width = 0;
    if (have_width) {
      while (*cur &gt;= &#39;0&#39; &amp;&amp; *cur &lt;= &#39;9&#39;) {
        width = width * 10 + *cur++ - &#39;0&#39;;
      }
    }
    bool have_precision = (cur[0] == &#39;.&#39; &amp;&amp; cur[1] == &#39;*&#39;);
    int precision = -1;
    if (have_precision) {
      cur += 2;
      precision = va_arg(args, int);
    }
    bool have_z = (*cur == &#39;z&#39;);
    cur += have_z;
    bool have_ll = !have_z &amp;&amp; (cur[0] == &#39;l&#39; &amp;&amp; cur[1] == &#39;l&#39;);
    cur += have_ll * 2;
    s64 dval;
    u64 uval;
    const bool have_length = have_z || have_ll;
    const bool have_flags = have_width || have_length;
    // At the moment only %s supports precision and left-justification.
    CHECK(!((precision &gt;= 0 || left_justified) &amp;&amp; *cur != &#39;s&#39;));
    switch (*cur) {
      case &#39;d&#39;: {
        dval = have_ll ? va_arg(args, s64)
             : have_z ? va_arg(args, sptr)
             : va_arg(args, int);
        result += AppendSignedDecimal(&amp;buff, buff_end, dval, width,
                                      pad_with_zero);
        break;
      }
      case &#39;u&#39;:
      case &#39;x&#39;:
      case &#39;X&#39;: {
        uval = have_ll ? va_arg(args, u64)
             : have_z ? va_arg(args, uptr)
             : va_arg(args, unsigned);
        bool uppercase = (*cur == &#39;X&#39;);
        result += AppendUnsigned(&amp;buff, buff_end, uval, (*cur == &#39;u&#39;) ? 10 : 16,
                                 width, pad_with_zero, uppercase);
        break;
      }
      case &#39;p&#39;: {
        RAW_CHECK_MSG(!have_flags, kPrintfFormatsHelp);
        result += AppendPointer(&amp;buff, buff_end, va_arg(args, uptr));
        break;
      }
      case &#39;s&#39;: {
        RAW_CHECK_MSG(!have_length, kPrintfFormatsHelp);
        // Only left-justified width is supported.
        CHECK(!have_width || left_justified);
        result += AppendString(&amp;buff, buff_end, left_justified ? -width : width,
                               precision, va_arg(args, char*));
        break;
      }
      case &#39;c&#39;: {
        RAW_CHECK_MSG(!have_flags, kPrintfFormatsHelp);
        result += AppendChar(&amp;buff, buff_end, va_arg(args, int));
        break;
      }
      case &#39;%&#39; : {
        RAW_CHECK_MSG(!have_flags, kPrintfFormatsHelp);
        result += AppendChar(&amp;buff, buff_end, &#39;%&#39;);
        break;
      }
      default: {
        RAW_CHECK_MSG(false, kPrintfFormatsHelp);
      }
    }
  }
  RAW_CHECK(buff &lt;= buff_end);
  AppendChar(&amp;buff, buff_end + 1, &#39;\0&#39;);
  return result;
}

} // namespace __sanitizer

int prints(const char *string)
{
  int pc = 0, padchar = &#39; &#39;;

  for ( ; *string ; ++string) {
    putchar (*string);
    ++pc;
  }

  return pc;
}

extern &quot;C&quot; int printf(const char *format, ...) {
  int length = 1000;
  char buffer[1000];
  va_list args;
  va_start(args, format);
  int needed_length = __sanitizer::VSNPrintf(buffer, length, format, args);
  va_end(args);
  prints(buffer);
  return 0;
}
</pre></div>
</div>
<p class="rubric">exlbt/input/ch_hello.c</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="o">~/</span><span class="n">llvm</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">clang</span> <span class="o">-</span><span class="n">target</span> <span class="n">mips</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span> <span class="o">-</span><span class="n">c</span> <span class="n">hello</span><span class="o">.</span><span class="n">cpp</span> <span class="o">-</span><span class="n">emit</span><span class="o">-</span><span class="n">llvm</span> <span class="o">-</span><span class="n">o</span> <span class="n">hello</span><span class="o">.</span><span class="n">bc</span>
<span class="o">//</span> <span class="o">~/</span><span class="n">llvm</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">llc</span> <span class="o">-</span><span class="n">march</span><span class="o">=</span><span class="n">cpu0</span> <span class="o">-</span><span class="n">mcpu</span><span class="o">=</span><span class="n">cpu032I</span> <span class="o">-</span><span class="n">relocation</span><span class="o">-</span><span class="n">model</span><span class="o">=</span><span class="n">static</span> <span class="o">-</span><span class="n">filetype</span><span class="o">=</span><span class="n">obj</span> <span class="n">ch_hello</span><span class="o">.</span><span class="n">bc</span> <span class="o">-</span><span class="n">o</span> <span class="n">ch_hello</span><span class="o">.</span><span class="n">cpu0</span><span class="o">.</span><span class="n">o</span>

<span class="o">//</span> <span class="n">start</span>
<span class="n">extern</span> <span class="nb">int</span> <span class="n">printf</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="nb">format</span><span class="p">,</span> <span class="o">...</span><span class="p">);</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">char</span> <span class="n">ptr</span><span class="p">[]</span> <span class="o">=</span> <span class="s2">&quot;Hello world!&quot;</span><span class="p">;</span>

  <span class="n">long</span> <span class="n">long</span> <span class="n">a</span> <span class="o">=</span> <span class="mh">0x100000007fffffff</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ptr</span><span class="p">);</span>
  <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;a: %llX, %llx, %lld</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">);</span>
  <span class="nb">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mh">0x10000000</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;b: </span><span class="si">%x</span><span class="s2">, </span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</pre></div>
</div>
<p class="rubric">exlbt/input/Makefile.sanitizer-printf</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># CPU and endian passed from command line, such as 
#   &quot;make -f Makefile.sanitizer_printf CPU=cpu032II endian=&quot;
#   Ignore argument and set CPU to cpu032II since software float point library, 
#   libsoftfloat, only supports cpu032II at this point.

SRCS := start.cpp debug.cpp sanitizer_printf.cpp printf-stdarg-def.c ch_hello.c \
        lib_cpu0.ll
LIBFLOAT_DIR := ../libsoftfloat/compiler-rt/
INC_DIRS := ./ ../include ../../lbdex/input $(HOME)/llvm/test/compiler-rt/lib/sanitizer_common
LIBS := $(LIBFLOAT_DIR)/build/libFloat.a

include Common.mk
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">cschen@cschendeiMac input %  </span>bash make.sh cpu032I le Makefile.sanitizer-printf

<span class="gp">cschen@cschendeiMac verilog % </span>./cpu0Is
<span class="go">...</span>
<span class="go">Hello world!</span>
<span class="go">a: 100000007FFFFFFF, 100000007fffffff, 1152921506754330623</span>
<span class="go">b: 10000000, 268435456</span>
<span class="go">total cpu cycles = 1266990</span>
<span class="go">RET to PC &lt; 0, finished!</span>
</pre></div>
</div>
<p>The following ch_float.cpp test the float lib.</p>
<p class="rubric">lbt/exlbt/libsoftfloat/compiler-rt-12.x/Makefile</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># Thanks .c .cb Vranish (https://spin.a.cmi.cbject..cm/2016/08/26/makefile-c-p.cjects/)

# CPU and endian passed from command line, such as &quot;make CPU=cpu032II ENDIAN=el&quot;

TARGET_LIB := libFloat.a
BUILD_DIR := ./build
TARGET := $(BUILD_DIR)/$(TARGET_LIB)

SRC_DIR := $(HOME)/llvm/llvm-project/compiler-rt/lib/builtins

TOOLDIR := ~/llvm/test/build/bin
CC := $(TOOLDIR)/clang
AR := $(TOOLDIR)/llvm-ar

# copy GENERIC_SOURCES from compiler-rt/lib/builtin/CMakeLists.txt
GENERIC_SOURCES := \
  absvdi2.c \
  absvsi2.c \
  absvti2.c \
  adddf3.c \
  addsf3.c \
  addvdi3.c \
  addvsi3.c \
  addvti3.c \
  apple_versioning.c \
  ashldi3.c \
  ashlti3.c \
  ashrdi3.c \
  ashrti3.c \
  bswapdi2.c \
  bswapsi2.c \
  clzdi2.c \
  clzsi2.c \
  clzti2.c \
  cmpdi2.c \
  cmpti2.c \
  comparedf2.c \
  comparesf2.c \
  ctzdi2.c \
  ctzsi2.c \
  ctzti2.c \
  divdc3.c \
  divdf3.c \
  divdi3.c \
  divmoddi4.c \
  divmodsi4.c \
  divmodti4.c \
  divsc3.c \
  divsf3.c \
  divsi3.c \
  divti3.c \
  extendsfdf2.c \
  extendhfsf2.c \
  ffsdi2.c \
  ffssi2.c \
  ffsti2.c \
  fixdfdi.c \
  fixdfsi.c \
  fixdfti.c \
  fixsfdi.c \
  fixsfsi.c \
  fixsfti.c \
  fixunsdfdi.c \
  fixunsdfsi.c \
  fixunsdfti.c \
  fixunssfdi.c \
  fixunssfsi.c \
  fixunssfti.c \
  floatdidf.c \
  floatdisf.c \
  floatsidf.c \
  floatsisf.c \
  floattidf.c \
  floattisf.c \
  floatundidf.c \
  floatundisf.c \
  floatunsidf.c \
  floatunsisf.c \
  floatuntidf.c \
  floatuntisf.c \
  fp_mode.c \
  int_util.c \
  lshrdi3.c \
  lshrti3.c \
  moddi3.c \
  modsi3.c \
  modti3.c \
  muldc3.c \
  muldf3.c \
  muldi3.c \
  mulodi4.c \
  mulosi4.c \
  muloti4.c \
  mulsc3.c \
  mulsf3.c \
  multi3.c \
  mulvdi3.c \
  mulvsi3.c \
  mulvti3.c \
  negdf2.c \
  negdi2.c \
  negsf2.c \
  negti2.c \
  negvdi2.c \
  negvsi2.c \
  negvti2.c \
  os_version_check.c \
  paritydi2.c \
  paritysi2.c \
  parityti2.c \
  popcountdi2.c \
  popcountsi2.c \
  popcountti2.c \
  powidf2.c \
  powisf2.c \
  subdf3.c \
  subsf3.c \
  subvdi3.c \
  subvsi3.c \
  subvti3.c \
  trampoline_setup.c \
  truncdfhf2.c \
  truncdfsf2.c \
  truncsfhf2.c \
  ucmpdi2.c \
  ucmpti2.c \
  udivdi3.c \
  udivmoddi4.c \
  udivmodsi4.c \
  udivmodti4.c \
  udivsi3.c \
  udivti3.c \
  umoddi3.c \
  umodsi3.c \
  umodti3.c

SRCS := $(GENERIC_SOURCES)

# String substitution for every C file.
# As an example, absvdi2.c turns into ./builtins/absvdi2.c
SRCS := $(SRCS:%=$(SRC_DIR)/%) cpu0/abort.c

# String substitution for every C/C++ file.
# As an example, absvdi2.c turns into ./build/absvdi2.c.o
OBJS := $(SRCS:%=$(BUILD_DIR)/%.o)

# String substitution (suffix version without %).
# As an example, ./build/absvdi2.c.o turns into ./build/absvdi2.c.d
DEPS := $(OBJS:.o=.d)

# Every folder in ./src will need to be passed to GCC so that it can find header files
# stdlib.h, ..., etc existed in ../../include
INC_DIRS := $(shell find $(SRC_DIR) -type d)  ../../include
# Add a prefix to INC_DIRS. So moduleA would become -ImoduleA. GCC understands this -I flag
INC_FLAGS := $(addprefix -I,$(INC_DIRS))

# The -MMD and -MP flags together generate Makefiles for us!
# These files will have .d instead of .o as the output.
CPPFLAGS := -MMD -MP -target cpu0${ENDIAN}-unknown-linux-gnu -static \
  -fintegrated-as ${INC_FLAGS} -mcpu=${CPU} -mllvm -has-lld=true

# The final build step.
$(TARGET): $(OBJS)
	$(AR) -rcs $@ $(OBJS)

# Build step for C source
$(BUILD_DIR)/%.c.o: %.c
	mkdir -p $(dir $@)
	$(CC) $(CPPFLAGS) $(CFLAGS) -c $&lt; -o $@


.PHONY: clean
clean:
	rm -rf $(BUILD_DIR)

# Include the .d makefiles. The - at the f.cnt suppresses the er.crs.cf missing
# Makefiles. Initially, all the .d files will be missing, and we .cn&#39;t want t.cse
# er.crs .c s.cw up.
-include $(DEPS)
</pre></div>
</div>
<p class="rubric">exlbt/input/ch_float.cpp</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>//#include &quot;debug.h&quot;

extern &quot;C&quot; int printf(const char *format, ...);
extern &quot;C&quot; int sprintf(char *out, const char *format, ...);

#include &quot;../../lbdex/input/ch9_3_longlongshift.cpp&quot;

template &lt;class T&gt;
T test_shift_left(T a, T b) {
  return (a &lt;&lt; b);
}

template &lt;class T&gt;
T test_shift_right(T a, T b) {
  return (a &gt;&gt; b);
}

template &lt;class T1, class T2, class T3&gt;
T1 test_add(T2 a, T3 b) {
  T1 c = a + b;
  return c;
}

template &lt;class T1, class T2, class T3&gt;
T1 test_mul(T2 a, T3 b) {
  T1 c = a * b;
  return c;
}

template &lt;class T1, class T2, class T3&gt;
T1 test_div(T2 a, T3 b) {
  T1 c = a / b;
  return c;
}

bool check_result(const char* fn, long long res, long long expected) {
  printf(&quot;%s = %lld\n&quot;, fn, res);
  if (res != expected) {
    printf(&quot;\terror: result %lld, expected %lld\n&quot;, res, expected);
  }
  return (res == expected);
}

bool check_result(const char* fn, unsigned long long res, unsigned long long expected) {
  printf(&quot;%s = %llu\n&quot;, fn, res);
  if (res != expected) {
    printf(&quot;\terror: result %llu, expected %llu\n&quot;, res, expected);
  }
  return (res == expected);
}

bool check_result(const char* fn, int res, int expected) {
  printf(&quot;%s = %d\n&quot;, fn, res);
  if (res != expected) {
    printf(&quot;\terror: result %d, expected %d\n&quot;, res, expected);
  }
  return (res == expected);
}

int main() {
  long long a;
  unsigned long long b;
  int c;

  a = test_longlong_shift1();
  check_result(&quot;test_longlong_shift1()&quot;, a, 289LL);

  a = test_longlong_shift2();
  check_result(&quot;test_longlong_shift2()&quot;, a, 22LL);

// call __ashldi3
  a = test_shift_left&lt;long long&gt;(0x12LL, 4LL); // 0x120 = 288
  check_result(&quot;test_shift_left&lt;long long&gt;(0x12LL, 4LL)&quot;, a, 288LL);
  
// call __ashrdi3
  a = test_shift_right&lt;long long&gt;(0x001666660000000a, 48LL); // 0x16 = 22
  check_result(&quot;test_shift_right&lt;long long&gt;(0x001666660000000a, 48LL)&quot;, a, 22LL);
  
// call __lshrdi3
  b = test_shift_right&lt;unsigned long long&gt;(0x001666660000000a, 48LLu); // 0x16 = 22
  check_result(&quot;test_shift_right&lt;unsigned long long&gt;(0x001666660000000a, 48LLu)&quot;, b, 22LLu);
  
// call __addsf3, __fixsfsi
  c = (int)test_add&lt;float, float, float&gt;(-2.2, 3.3); // (int)1.1 = 1
  check_result(&quot;(int)test_add&lt;float, float, float&gt;(-2.2, 3.3)&quot;, c, 1);
  
// call __mulsf3, __fixsfsi
  c = (int)test_mul&lt;float, float, float&gt;(-2.2, 3.3); // (int)-7.26 = -7
  check_result(&quot;(int)test_mul&lt;float, float, float&gt;(-2.2, 3.3)&quot;, c, -7);
  
// call __divsf3, __fixsfsi
  c = (int)test_div&lt;float, float, float&gt;(-1.8, 0.5); // (int)-3.6 = -3
  check_result(&quot;(int)test_div&lt;float, float, float&gt;(-1.8, 0.5)&quot;, c, -3);
  
// call __extendsfdf2, __adddf3, __fixdfsi
  c = (int)test_add&lt;double, double, float&gt;(-2.2, 3.3); // (int)1.1 = 1
  check_result(&quot;(int)test_add&lt;double, double, float&gt;(-2.2, 3.3)&quot;, c, 1);
  
// call __extendsfdf2, __adddf3, __fixdfsi
  c = (int)test_add&lt;double, float, double&gt;(-2.2, 3.3); // (int)1.1 = 1
  check_result(&quot;(int)test_add&lt;double, float, double&gt;(-2.2, 3.3)&quot;, c, 1);
  
// call __extendsfdf2, __adddf3, __fixdfsi
  c = (int)test_add&lt;float, float, double&gt;(-2.2, 3.3); // (int)1.1 = 1
  check_result(&quot;(int)test_add&lt;float, float, double&gt;(-2.2, 3.3)&quot;, c, 1);
  
// call __extendsfdf2, __muldf3, __fixdfsi
  c = (int)test_mul&lt;double, float, double&gt;(-2.2, 3.3); // (int)-7.26 = -7
  check_result(&quot;(int)test_mul&lt;double, float, double&gt;(-2.2, 3.3)&quot;, c, -7);
  
// call __extendsfdf2, __muldf3, __truncdfsf2, __fixdfsi
// ! __truncdfsf2 in truncdfsf2.c is not work for Cpu0
  c = (int)test_mul&lt;float, float, double&gt;(-2.2, 3.3); // (int)-7.26 = -7
  check_result(&quot;(int)test_mul&lt;float, float, double&gt;(-2.2, 3.3)&quot;, c, -7);
  
// call __divdf3, __fixdfsi
  c = (int)test_div&lt;double, double, double&gt;(-1.8, 0.5); // (int)-3.6 = -3
  check_result(&quot;(int)test_div&lt;double, double, double&gt;(-1.8, 0.5)&quot;, c, -3);

#if 0 // these three do call builtins  
  c = (int)test_mul&lt;int, int, int&gt;(-2, 3); // -6
  check_result(&quot;(int)test_mul&lt;int, int, int&gt;(-2, 3)&quot;, c, -6);
  
  c = (int)test_div&lt;int, int, int&gt;(-10, 4); // -2 &lt;- -2*4+2, quotient:-2, remainder:2 (remainder &lt; 4:divident)
  check_result(&quot;(int)test_div&lt;int, int, int&gt;(-10, 4)&quot;, c, -3);
  
  a = test_mul&lt;long long, long long, long long&gt;(-2LL, 3LL); // -6LL
  check_result(&quot;test_mul&lt;long long, long long, long long&gt;(-2LL, 3LL)&quot;, a, -6LL);
#endif

// call __divdi3,
  a = test_div&lt;long long, long long, long long&gt;(-10LL, 4LL); // -3
  check_result(&quot;test_div&lt;long long, long long, long long&gt;(-10LL, 4LL)&quot;, a, -2LL);
  
  return 0;
}

</pre></div>
</div>
<p class="rubric">exlbt/input/Makefile.float</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># CPU and endian passed from command line, such as 
#   &quot;make -f Makefile.float CPU=cpu032II ENDIAN=el&quot;
#   Ignore argument and set CPU to cpu032II since software float point library, 
#   libsoftfloat, only supports cpu032II at this point.

SRCS := start.cpp debug.cpp sanitizer_printf.cpp printf-stdarg-def.c ch_float.cpp lib_cpu0.ll
LIBFLOAT_DIR := ../libsoftfloat/compiler-rt
INC_DIRS := ../ ../include ../../lbdex/input $(HOME)/llvm/test/compiler-rt/lib/sanitizer_common
LIBS := $(LIBFLOAT_DIR)/build/libFloat.a

include Common.mk
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">chungshu@ChungShudeMacBook-Air input % </span>bash make.sh cpu032II be Makefile.float
<span class="go">...</span>
<span class="go">endian =  BigEndian</span>
<span class="go">ISR address:00020614</span>
<span class="go">0   /* 0: big endian, 1: little endian */</span>

<span class="gp">chungshu@ChungShudeMacBook-Air verilog % </span>iverilog -o cpu0IIs cpu0IIs.v
<span class="gp">chungshu@ChungShudeMacBook-Air verilog % </span>./cpu0IIs
<span class="go">...</span>
<span class="go">test_longlong_shift1() = 289</span>
<span class="go">test_longlong_shift2() = 22</span>
<span class="go">test_shift_left&lt;long long&gt;(0x12, 4LL) = 288</span>
<span class="go">test_shift_right&lt;long long&gt;(0x001666660000000a, 48LL) = 22</span>
<span class="go">test_shift_right&lt;unsigned long long&gt;(0x001666660000000a, 48LLu) = 22</span>
<span class="gp gp-VirtualEnv">(int)</span><span class="go">test_add&lt;float, float, float&gt;(-2.2, 3.3) = 1</span>
<span class="gp gp-VirtualEnv">(int)</span><span class="go">test_mul&lt;float, float, float&gt;(-2.2, 3.3) = -7</span>
<span class="gp gp-VirtualEnv">(int)</span><span class="go">test_div&lt;float, float, float&gt;(-1.8, 0.5) = -3</span>
<span class="gp gp-VirtualEnv">(int)</span><span class="go">test_add&lt;double, double, float&gt;(-2.2, 3.3) = 1</span>
<span class="gp gp-VirtualEnv">(int)</span><span class="go">test_add&lt;double, float, double&gt;(-2.2, 3.3) = 1</span>
<span class="gp gp-VirtualEnv">(int)</span><span class="go">test_add&lt;float, float, double&gt;(-2.2, 3.3) = 1</span>
<span class="gp gp-VirtualEnv">(int)</span><span class="go">test_mul&lt;double, float, double&gt;(-2.2, 3.3) = -7</span>
<span class="gp gp-VirtualEnv">(int)</span><span class="go">test_mul&lt;float, float, double&gt;(-2.2, 3.3) = -7</span>
<span class="gp gp-VirtualEnv">(int)</span><span class="go">test_div&lt;double, double, double&gt;(-1.8, 0.5) = -3</span>
<span class="go">test_div&lt;long long, long long, long long&gt;(-10LL, 4LL) = -2</span>
<span class="go">...</span>
<span class="go">RET to PC &lt; 0, finished!</span>
</pre></div>
</div>
<p>The exlbt/input/compiler-rt-test/builtins/Unit copied from
compiler-rt/test/builtins/Unit as follows,</p>
<p class="rubric">exlbt/input/ch_builtins.cpp</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;stdlib.h&gt;</span>

<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">printf</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="nb">format</span><span class="p">,</span> <span class="o">...</span><span class="p">);</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">char</span> <span class="o">*</span><span class="n">out</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="nb">format</span><span class="p">,</span> <span class="o">...</span><span class="p">);</span>

<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">absvdi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">absvsi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">absvti2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">adddf3vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">addsf3vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">addvdi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">addvsi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">addvti3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ashldi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ashlti3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ashrdi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ashrti3_test</span><span class="p">();</span>

<span class="o">//</span> <span class="n">atomic</span><span class="o">.</span><span class="n">c</span> <span class="n">need</span> <span class="n">memcmp</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="o">//</span><span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">atomic_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">bswapdi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">bswapsi2_test</span><span class="p">();</span>

<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">clzdi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">clzsi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">clzti2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">cmpdi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">cmpti2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">comparedf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">comparesf2_test</span><span class="p">();</span>

<span class="o">//</span> <span class="n">Needless</span> <span class="n">to</span> <span class="n">compare</span> <span class="n">compiler_rt_logb</span><span class="p">()</span> <span class="k">with</span> <span class="n">logb</span><span class="p">()</span> <span class="n">of</span> <span class="n">libm</span>
<span class="o">//</span><span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">compiler_rt_logb_test</span><span class="p">();</span>
<span class="o">//</span><span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">compiler_rt_logbf_test</span><span class="p">();</span>
<span class="o">//</span><span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">compiler_rt_logbl_test</span><span class="p">();</span>

<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">cpu_model_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ctzdi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ctzsi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ctzti2_test</span><span class="p">();</span>

<span class="o">//</span> <span class="n">div</span> <span class="k">for</span> <span class="nb">complex</span> <span class="nb">type</span> <span class="n">need</span> <span class="n">libm</span><span class="p">:</span> <span class="n">fabs</span><span class="p">,</span> <span class="n">isinf</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">skip</span> <span class="n">it</span> <span class="n">at</span> <span class="n">this</span> <span class="n">point</span>
<span class="c1">#ifdef HAS_COMPLEX</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divdc3_test</span><span class="p">();</span>
<span class="c1">#endif</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divdf3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divdf3vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divdi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divmodsi4_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divmodti4_test</span><span class="p">();</span>
<span class="c1">#ifdef HAS_COMPLEX</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divsc3_test</span><span class="p">();</span>
<span class="c1">#endif</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divsf3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divsf3vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divsi3_test</span><span class="p">();</span>
<span class="c1">#ifdef HAS_COMPLEX</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divtc3_test</span><span class="p">();</span>
<span class="c1">#endif</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divtf3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divti3_test</span><span class="p">();</span>
<span class="c1">#ifdef HAS_COMPLEX</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">divxc3_test</span><span class="p">();</span>
<span class="c1">#endif</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">enable_execute_stack_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">eqdf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">eqsf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">eqtf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">extenddftf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">extendhfsf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">extendhftf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">extendsfdf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">extendsftf2_test</span><span class="p">();</span>
<span class="c1">#if 0</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">gcc_personality_test</span><span class="p">();</span>
<span class="c1">#endif</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">gedf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">gesf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">getf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">gtdf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">gtsf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">gttf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ledf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">lesf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">letf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">lshrdi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">lshrti3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ltdf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ltsf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">lttf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">moddi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">modsi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">modst3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">modti3_test</span><span class="p">();</span>
<span class="c1">#ifdef HAS_COMPLEX</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">muldc3_test</span><span class="p">();</span>
<span class="c1">#endif</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">muldf3vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">muldi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">mulodi4_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">mulosi4_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">muloti4_test</span><span class="p">();</span>
<span class="c1">#ifdef HAS_COMPLEX</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">mulsc3_test</span><span class="p">();</span>
<span class="c1">#endif</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">mulsf3vfp_test</span><span class="p">();</span>
<span class="o">//</span><span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">mulsi3_test</span><span class="p">();</span> <span class="n">no</span> <span class="n">this</span> <span class="n">mulsi3</span><span class="o">.</span><span class="n">c</span>
<span class="c1">#ifdef HAS_COMPLEX</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">multc3_test</span><span class="p">();</span>
<span class="c1">#endif</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">multf3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">multi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">mulvdi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">mulvsi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">mulvti3_test</span><span class="p">();</span>
<span class="c1">#ifdef HAS_COMPLEX</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">mulxc3_test</span><span class="p">();</span>
<span class="c1">#endif</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">nedf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">negdf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">negdi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">negsf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">negti2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">negvdi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">negvsi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">negvti2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">nesf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">netf2_test</span><span class="p">();</span>
<span class="o">/*</span> <span class="n">need</span> <span class="n">rand</span><span class="p">,</span> <span class="n">signbit</span><span class="p">,</span> <span class="o">...</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">paritydi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">paritysi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">parityti2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">popcountdi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">popcountsi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">popcountti2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">powidf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">powisf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">powitf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">powixf2_test</span><span class="p">();</span>
<span class="o">*/</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">subdf3vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">subsf3vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">subtf3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">subvdi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">subvsi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">subvti3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">trampoline_setup_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">truncdfhf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">truncdfsf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">truncdfsf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">truncsfhf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">trunctfdf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">trunctfhf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">trunctfsf2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ucmpdi2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">ucmpti2_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">udivdi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">udivmoddi4_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">udivmodsi4_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">udivmodti4_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">udivsi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">udivti3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">umoddi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">umodsi3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">umodti3_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">unorddf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">unordsf2vfp_test</span><span class="p">();</span>
<span class="n">extern</span> <span class="s2">&quot;C&quot;</span> <span class="nb">int</span> <span class="n">unordtf2_test</span><span class="p">();</span>

<span class="n">void</span> <span class="n">show_result</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">fn</span><span class="p">,</span> <span class="nb">int</span> <span class="n">res</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">res</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: FAIL!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fn</span><span class="p">);</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">res</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: PASS!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fn</span><span class="p">);</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">res</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: SKIPPED!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">fn</span><span class="p">);</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;FIXME!&quot;</span><span class="p">);</span>
    <span class="n">abort</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nb">int</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">absvdi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;absvdi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">absvsi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;absvsi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">absvti2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;absvti2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">adddf3vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;adddf3vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">addsf3vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;addsf3vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">addvdi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;addvdi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">addvsi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;addvsi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">addvti3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;addvti3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ashldi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ashldi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ashlti3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ashlti3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ashrdi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ashrdi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ashrti3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ashrti3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="c1">#if 0 // atomic.c need memcmp(...)</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">atomic_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;atomic_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="c1">#endif</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">bswapdi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;bswapdi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">bswapsi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;bswapsi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">clzdi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;clzdi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">clzsi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;clzsi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">clzti2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;clzti2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">cmpdi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;cmpdi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">cmpti2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;cmpti2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">comparedf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;comparedf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">comparesf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;comparesf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="o">//</span>  <span class="n">res</span> <span class="o">=</span> <span class="n">compiler_rt_logb_test</span><span class="p">();</span>
<span class="o">//</span>  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;compiler_rt_logb_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="o">//</span>  <span class="n">res</span> <span class="o">=</span> <span class="n">compiler_rt_logbf_test</span><span class="p">();</span>
<span class="o">//</span>  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;compiler_rt_logbf_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="o">//</span>  <span class="n">res</span> <span class="o">=</span> <span class="n">compiler_rt_logbl_test</span><span class="p">();</span>
<span class="o">//</span>  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;compiler_rt_logbl_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">cpu_model_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;cpu_model_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ctzdi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ctzdi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ctzsi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ctzsi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ctzti2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ctzti2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="c1">#ifdef HAS_COMPLEX</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">divdc3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divdc3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="c1">#endif</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">divdf3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divdf3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">divdf3vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divdf3vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">divdi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divdi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">divmodsi4_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divmodsi4_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">divmodti4_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divmodti4_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="c1">#ifdef HAS_COMPLEX</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">divsc3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divsc3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="c1">#endif</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">divsf3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divsf3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">divsf3vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divsf3vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">divsi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divsi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="c1">#ifdef HAS_COMPLEX</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">divtc3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divtc3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="c1">#endif</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">divtf3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divtf3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">divti3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divti3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="c1">#ifdef HAS_COMPLEX</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">divxc3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;divxc3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="c1">#endif</span>

<span class="c1">#if 0</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">enable_execute_stack_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;enable_execute_stack_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="c1">#endif</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">eqdf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;eqdf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">eqsf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;eqsf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">eqtf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;eqtf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">extenddftf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;extenddftf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">extendhfsf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;extendhfsf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">extendhftf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;extendhftf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">extendsfdf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;extendsfdf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">extendsftf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;extendsftf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="c1">#if 0</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">gcc_personality_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;gcc_personality_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="c1">#endif</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">gedf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;gedf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">gesf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;gesf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">getf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;getf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">gtdf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;gtdf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">gtsf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;gtsf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">gttf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;gttf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ledf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ledf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">lesf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;lesf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">letf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;letf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">lshrdi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;lshrdi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">lshrti3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;lshrti3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ltdf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ltdf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ltsf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ltsf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">lttf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;lttf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">moddi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;moddi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">modsi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;modsi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">modti3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;modti3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="c1">#ifdef HAS_COMPLEX</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">muldc3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;muldc3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="c1">#endif</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">muldf3vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;muldf3vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">muldi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;muldi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">mulodi4_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;mulodi4_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">mulosi4_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;mulosi4_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">muloti4_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;muloti4_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="c1">#ifdef HAS_COMPLEX</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">mulsc3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;mulsc3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="c1">#endif</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">mulsf3vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;mulsf3vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="o">//</span> <span class="n">no</span> <span class="n">mulsi3</span><span class="o">.</span><span class="n">c</span>
<span class="o">//</span>  <span class="n">res</span> <span class="o">=</span> <span class="n">mulsi3_test</span><span class="p">();</span>
<span class="o">//</span>  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;mulsi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="c1">#ifdef HAS_COMPLEX</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">multc3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;multc3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="c1">#endif</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">multf3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;multf3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">multi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;multi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">mulvdi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;mulvdi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">mulvsi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;mulvsi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">mulvti3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;mulvti3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="c1">#ifdef HAS_COMPLEX</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">mulxc3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;mulxc3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="c1">#endif</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">nedf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;nedf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">negdf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;negdf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">negdi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;negdi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">negsf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;negsf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">negti2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;negti2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">negvdi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;negvdi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">negvsi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;negvsi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">negvti2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;negvti2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">nesf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;nesf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">netf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;netf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

<span class="o">/*</span> <span class="n">need</span> <span class="n">rand</span><span class="p">,</span> <span class="n">signbit</span><span class="p">,</span> <span class="o">...</span>
  <span class="n">res</span> <span class="o">=</span> <span class="n">paritydi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;paritydi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">paritysi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;paritysi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">parityti2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;parityti2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">popcountdi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;popcountdi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">popcountsi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;popcountsi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">popcountti2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;popcountti2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">powidf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;powidf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">powisf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;powisf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">powitf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;powitf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">powixf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;powixf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>
<span class="o">*/</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">subdf3vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;subdf3vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">subsf3vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;subsf3vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">subtf3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;subtf3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">subvdi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;subvdi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">subvsi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;subvsi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">subvti3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;subvti3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">trampoline_setup_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;trampoline_setup_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">truncdfhf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;truncdfhf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">truncdfsf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;truncdfsf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">truncdfsf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;truncdfsf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">truncsfhf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;truncsfhf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">trunctfdf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;trunctfdf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">trunctfhf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;trunctfhf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">trunctfsf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;trunctfsf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ucmpdi2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ucmpdi2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">ucmpti2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;ucmpti2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">udivdi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;udivdi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">udivmoddi4_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;udivmoddi4_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">udivmodsi4_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;udivmodsi4_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">udivmodti4_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;udivmodti4_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">udivsi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;udivsi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">udivti3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;udivti3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">umoddi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;umoddi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">umodsi3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;umodsi3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">umodti3_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;umodti3_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">unorddf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;unorddf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">unordsf2vfp_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;unordsf2vfp_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="n">res</span> <span class="o">=</span> <span class="n">unordtf2_test</span><span class="p">();</span>
  <span class="n">show_result</span><span class="p">(</span><span class="s2">&quot;unordtf2_test()&quot;</span><span class="p">,</span> <span class="n">res</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</pre></div>
</div>
<p class="rubric">exlbt/input/Makefile.builtins</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># CPU and endian passed from command line, such as 
#   &quot;make -f Makefile.float-necessary CPU=cpu032II endian=&quot;
#   Ignore argument and set CPU to cpu032II since software float point library, 
#   libsoftfloat, only supports cpu032II at this point.

# start.cpp must be put at beginning
SRCS :=  start.cpp debug.cpp sanitizer_printf.cpp printf-stdarg-def.c \
  compiler-rt-test/builtins/Unit/absvdi2_test.c \
  compiler-rt-test/builtins/Unit/absvsi2_test.c \
  compiler-rt-test/builtins/Unit/absvti2_test.c \
  compiler-rt-test/builtins/Unit/adddf3vfp_test.c \
  compiler-rt-test/builtins/Unit/addsf3vfp_test.c \
  compiler-rt-test/builtins/Unit/addvdi3_test.c \
  compiler-rt-test/builtins/Unit/addvsi3_test.c \
  compiler-rt-test/builtins/Unit/addvti3_test.c \
  compiler-rt-test/builtins/Unit/ashldi3_test.c \
  compiler-rt-test/builtins/Unit/ashlti3_test.c \
  compiler-rt-test/builtins/Unit/ashrdi3_test.c \
  compiler-rt-test/builtins/Unit/ashrti3_test.c \
  compiler-rt-test/builtins/Unit/bswapdi2_test.c \
  compiler-rt-test/builtins/Unit/bswapsi2_test.c \
  compiler-rt-test/builtins/Unit/clzdi2_test.c \
  compiler-rt-test/builtins/Unit/clzsi2_test.c \
  compiler-rt-test/builtins/Unit/clzti2_test.c \
  compiler-rt-test/builtins/Unit/cmpdi2_test.c \
  compiler-rt-test/builtins/Unit/cmpti2_test.c \
  compiler-rt-test/builtins/Unit/comparedf2_test.c \
  compiler-rt-test/builtins/Unit/comparesf2_test.c \
  compiler-rt-test/builtins/Unit/cpu_model_test.c \
  compiler-rt-test/builtins/Unit/ctzdi2_test.c \
  compiler-rt-test/builtins/Unit/ctzsi2_test.c \
  compiler-rt-test/builtins/Unit/ctzti2_test.c \
  compiler-rt-test/builtins/Unit/divdc3_test.c \
  compiler-rt-test/builtins/Unit/divdf3_test.c \
  compiler-rt-test/builtins/Unit/divdf3vfp_test.c \
  compiler-rt-test/builtins/Unit/divdi3_test.c \
  compiler-rt-test/builtins/Unit/divmodsi4_test.c \
  compiler-rt-test/builtins/Unit/divmodti4_test.c \
  compiler-rt-test/builtins/Unit/divsc3_test.c \
  compiler-rt-test/builtins/Unit/divsf3_test.c \
  compiler-rt-test/builtins/Unit/divsf3vfp_test.c \
  compiler-rt-test/builtins/Unit/divsi3_test.c \
  compiler-rt-test/builtins/Unit/divtc3_test.c \
  compiler-rt-test/builtins/Unit/divtf3_test.c \
  compiler-rt-test/builtins/Unit/divti3_test.c \
  compiler-rt-test/builtins/Unit/divxc3_test.c \
  compiler-rt-test/builtins/Unit/enable_execute_stack_test.c \
  compiler-rt-test/builtins/Unit/eqdf2vfp_test.c \
  compiler-rt-test/builtins/Unit/eqsf2vfp_test.c \
  compiler-rt-test/builtins/Unit/eqtf2_test.c \
  compiler-rt-test/builtins/Unit/extenddftf2_test.c \
  compiler-rt-test/builtins/Unit/extendhfsf2_test.c \
  compiler-rt-test/builtins/Unit/extendhftf2_test.c \
  compiler-rt-test/builtins/Unit/extendsfdf2vfp_test.c \
  compiler-rt-test/builtins/Unit/extendsftf2_test.c \
  compiler-rt-test/builtins/Unit/gedf2vfp_test.c \
  compiler-rt-test/builtins/Unit/gesf2vfp_test.c \
  compiler-rt-test/builtins/Unit/getf2_test.c \
  compiler-rt-test/builtins/Unit/gtdf2vfp_test.c \
  compiler-rt-test/builtins/Unit/gtsf2vfp_test.c \
  compiler-rt-test/builtins/Unit/gttf2_test.c \
  compiler-rt-test/builtins/Unit/ledf2vfp_test.c \
  compiler-rt-test/builtins/Unit/lesf2vfp_test.c \
  compiler-rt-test/builtins/Unit/letf2_test.c \
  compiler-rt-test/builtins/Unit/lshrdi3_test.c \
  compiler-rt-test/builtins/Unit/lshrti3_test.c \
  compiler-rt-test/builtins/Unit/ltdf2vfp_test.c \
  compiler-rt-test/builtins/Unit/ltsf2vfp_test.c \
  compiler-rt-test/builtins/Unit/lttf2_test.c \
  compiler-rt-test/builtins/Unit/moddi3_test.c \
  compiler-rt-test/builtins/Unit/modsi3_test.c \
  compiler-rt-test/builtins/Unit/modti3_test.c \
  compiler-rt-test/builtins/Unit/muldc3_test.c \
  compiler-rt-test/builtins/Unit/muldf3vfp_test.c \
  compiler-rt-test/builtins/Unit/muldi3_test.c \
  compiler-rt-test/builtins/Unit/mulodi4_test.c \
  compiler-rt-test/builtins/Unit/mulosi4_test.c \
  compiler-rt-test/builtins/Unit/muloti4_test.c \
  compiler-rt-test/builtins/Unit/mulsc3_test.c \
  compiler-rt-test/builtins/Unit/mulsf3vfp_test.c \
  compiler-rt-test/builtins/Unit/mulsi3_test.c \
  compiler-rt-test/builtins/Unit/multc3_test.c \
  compiler-rt-test/builtins/Unit/multf3_test.c \
  compiler-rt-test/builtins/Unit/multi3_test.c \
  compiler-rt-test/builtins/Unit/mulvdi3_test.c \
  compiler-rt-test/builtins/Unit/mulvsi3_test.c \
  compiler-rt-test/builtins/Unit/mulvti3_test.c \
  compiler-rt-test/builtins/Unit/mulxc3_test.c \
  compiler-rt-test/builtins/Unit/nedf2vfp_test.c \
  compiler-rt-test/builtins/Unit/negdf2vfp_test.c \
  compiler-rt-test/builtins/Unit/negdi2_test.c \
  compiler-rt-test/builtins/Unit/negsf2vfp_test.c \
  compiler-rt-test/builtins/Unit/negti2_test.c \
  compiler-rt-test/builtins/Unit/negvdi2_test.c \
  compiler-rt-test/builtins/Unit/negvsi2_test.c \
  compiler-rt-test/builtins/Unit/negvti2_test.c \
  compiler-rt-test/builtins/Unit/nesf2vfp_test.c \
  compiler-rt-test/builtins/Unit/netf2_test.c \
  compiler-rt-test/builtins/Unit/paritydi2_test.c \
  compiler-rt-test/builtins/Unit/paritysi2_test.c \
  compiler-rt-test/builtins/Unit/parityti2_test.c \
  compiler-rt-test/builtins/Unit/popcountdi2_test.c \
  compiler-rt-test/builtins/Unit/popcountsi2_test.c \
  compiler-rt-test/builtins/Unit/popcountti2_test.c \
  compiler-rt-test/builtins/Unit/powidf2_test.c \
  compiler-rt-test/builtins/Unit/powisf2_test.c \
  compiler-rt-test/builtins/Unit/powitf2_test.c \
  compiler-rt-test/builtins/Unit/powixf2_test.c \
  compiler-rt-test/builtins/Unit/subdf3vfp_test.c \
  compiler-rt-test/builtins/Unit/subsf3vfp_test.c \
  compiler-rt-test/builtins/Unit/subtf3_test.c \
  compiler-rt-test/builtins/Unit/subvdi3_test.c \
  compiler-rt-test/builtins/Unit/subvsi3_test.c \
  compiler-rt-test/builtins/Unit/subvti3_test.c \
  compiler-rt-test/builtins/Unit/trampoline_setup_test.c \
  compiler-rt-test/builtins/Unit/truncdfhf2_test.c \
  compiler-rt-test/builtins/Unit/truncdfsf2_test.c \
  compiler-rt-test/builtins/Unit/truncdfsf2vfp_test.c \
  compiler-rt-test/builtins/Unit/truncsfhf2_test.c \
  compiler-rt-test/builtins/Unit/trunctfdf2_test.c \
  compiler-rt-test/builtins/Unit/trunctfhf2_test.c \
  compiler-rt-test/builtins/Unit/trunctfsf2_test.c \
  compiler-rt-test/builtins/Unit/ucmpdi2_test.c \
  compiler-rt-test/builtins/Unit/ucmpti2_test.c \
  compiler-rt-test/builtins/Unit/udivdi3_test.c \
  compiler-rt-test/builtins/Unit/udivmoddi4_test.c \
  compiler-rt-test/builtins/Unit/udivmodsi4_test.c \
  compiler-rt-test/builtins/Unit/udivmodti4_test.c \
  compiler-rt-test/builtins/Unit/udivsi3_test.c \
  compiler-rt-test/builtins/Unit/udivti3_test.c \
  compiler-rt-test/builtins/Unit/umoddi3_test.c \
  compiler-rt-test/builtins/Unit/umodsi3_test.c \
  compiler-rt-test/builtins/Unit/umodti3_test.c \
  compiler-rt-test/builtins/Unit/unorddf2vfp_test.c \
  compiler-rt-test/builtins/Unit/unordsf2vfp_test.c \
  compiler-rt-test/builtins/Unit/unordtf2_test.c \
  ch_builtins.cpp lib_cpu0.ll
INC_DIRS := ./ ../../lbdex/input ../libsoftfloat/compiler-rt/builtins ../include
LIBFLOAT_DIR := ../libsoftfloat/compiler-rt
LIBS := $(LIBFLOAT_DIR)/build/libFloat.a 

include Common.mk
</pre></div>
</div>
<p>Run as follows,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">chungshu@ChungShudeMacBook-Air input % </span>bash make.sh cpu032II be Makefile.builtins
<span class="go">...</span>
<span class="gp">chungshu@ChungShudeMacBook-Air verilog % </span>./cpu0IIs
<span class="go">...</span>
<span class="go">absvdi2_test(): PASS!</span>
<span class="go">absvsi2_test(): PASS!</span>
<span class="go">absvti2_test(): SKIPPED!</span>
<span class="go">adddf3vfp_test(): SKIPPED!</span>
<span class="go">addsf3vfp_test(): SKIPPED!</span>
<span class="go">addvdi3_test(): PASS!</span>
<span class="go">addvsi3_test(): PASS!</span>
<span class="go">addvti3_test(): SKIPPED!</span>
<span class="go">ashldi3_test(): PASS!</span>
<span class="go">ashlti3_test(): SKIPPED!</span>
<span class="go">ashrdi3_test(): PASS!</span>
<span class="go">ashrti3_test(): SKIPPED!</span>
<span class="go">bswapdi2_test(): PASS!</span>
<span class="go">bswapsi2_test(): PASS!</span>
<span class="go">clzdi2_test(): PASS!</span>
<span class="go">clzsi2_test(): PASS!</span>
<span class="go">clzti2_test(): SKIPPED!</span>
<span class="go">cmpdi2_test(): PASS!</span>
<span class="go">cmpti2_test(): SKIPPED!</span>
<span class="go">comparedf2_test(): PASS!</span>
<span class="go">comparesf2_test(): PASS!</span>
<span class="go">cpu_model_test(): SKIPPED!</span>
<span class="go">ctzdi2_test(): PASS!</span>
<span class="go">ctzsi2_test(): PASS!</span>
<span class="go">ctzti2_test(): SKIPPED!</span>
<span class="go">divdf3_test(): PASS!</span>
<span class="go">divdf3vfp_test(): SKIPPED!</span>
<span class="go">divdi3_test(): PASS!</span>
<span class="go">divmodsi4_test(): PASS!</span>
<span class="go">divmodti4_test(): SKIPPED!</span>
<span class="go">divsf3_test(): PASS!</span>
<span class="go">divsf3vfp_test(): SKIPPED!</span>
<span class="go">divsi3_test(): PASS!</span>
<span class="go">divtf3_test(): SKIPPED!</span>
<span class="go">divti3_test(): SKIPPED!</span>
<span class="go">eqdf2vfp_test(): SKIPPED!</span>
<span class="go">eqsf2vfp_test(): SKIPPED!</span>
<span class="go">eqtf2_test(): SKIPPED!</span>
<span class="go">extenddftf2_test(): SKIPPED!</span>
<span class="go">extendhfsf2_test(): PASS!</span>
<span class="go">extendhftf2_test(): SKIPPED!</span>
<span class="go">extendsfdf2vfp_test(): SKIPPED!</span>
<span class="go">extendsftf2_test(): SKIPPED!</span>
<span class="go">gedf2vfp_test(): SKIPPED!</span>
<span class="go">gesf2vfp_test(): SKIPPED!</span>
<span class="go">getf2_test(): SKIPPED!</span>
<span class="go">gtdf2vfp_test(): SKIPPED!</span>
<span class="go">gtsf2vfp_test(): SKIPPED!</span>
<span class="go">gttf2_test(): SKIPPED!</span>
<span class="go">ledf2vfp_test(): SKIPPED!</span>
<span class="go">lesf2vfp_test(): SKIPPED!</span>
<span class="go">letf2_test(): SKIPPED!</span>
<span class="go">lshrdi3_test(): PASS!</span>
<span class="go">lshrti3_test(): SKIPPED!</span>
<span class="go">ltdf2vfp_test(): SKIPPED!</span>
<span class="go">ltsf2vfp_test(): SKIPPED!</span>
<span class="go">lttf2_test(): SKIPPED!</span>
<span class="go">moddi3_test(): PASS!</span>
<span class="go">modsi3_test(): PASS!</span>
<span class="go">modti3_test(): SKIPPED!</span>
<span class="go">muldf3vfp_test(): SKIPPED!</span>
<span class="go">muldi3_test(): PASS!</span>
<span class="go">mulodi4_test(): PASS!</span>
<span class="go">mulosi4_test(): PASS!</span>
<span class="go">muloti4_test(): SKIPPED!</span>
<span class="go">mulsf3vfp_test(): SKIPPED!</span>
<span class="go">multf3_test(): SKIPPED!</span>
<span class="go">multi3_test(): SKIPPED!</span>
<span class="go">mulvdi3_test(): PASS!</span>
<span class="go">mulvsi3_test(): PASS!</span>
<span class="go">mulvti3_test(): SKIPPED!</span>
<span class="go">nedf2vfp_test(): SKIPPED!</span>
<span class="go">negdf2vfp_test(): SKIPPED!</span>
<span class="go">negdi2_test(): PASS!</span>
<span class="go">negsf2vfp_test(): SKIPPED!</span>
<span class="go">negti2_test(): SKIPPED!</span>
<span class="go">negvdi2_test(): PASS!</span>
<span class="go">negvsi2_test(): PASS!</span>
<span class="go">negvti2_test(): SKIPPED!</span>
<span class="go">nesf2vfp_test(): SKIPPED!</span>
<span class="go">netf2_test(): SKIPPED!</span>
<span class="go">subdf3vfp_test(): SKIPPED!</span>
<span class="go">subsf3vfp_test(): SKIPPED!</span>
<span class="go">subtf3_test(): SKIPPED!</span>
<span class="go">subvdi3_test(): PASS!</span>
<span class="go">subvsi3_test(): PASS!</span>
<span class="go">subvti3_test(): SKIPPED!</span>
<span class="go">trampoline_setup_test(): SKIPPED!</span>
<span class="go">truncdfhf2_test(): PASS!</span>
<span class="go">truncdfsf2_test(): PASS!</span>
<span class="go">truncdfsf2vfp_test(): SKIPPED!</span>
<span class="go">truncsfhf2_test(): PASS!</span>
<span class="go">trunctfdf2_test(): SKIPPED!</span>
<span class="go">trunctfhf2_test(): SKIPPED!</span>
<span class="go">trunctfsf2_test(): SKIPPED!</span>
<span class="go">ucmpdi2_test(): PASS!</span>
<span class="go">ucmpti2_test(): SKIPPED!</span>
<span class="go">udivdi3_test(): PASS!</span>
<span class="go">udivmodsi4_test(): PASS!</span>
<span class="go">udivmodti4_test(): SKIPPED!</span>
<span class="go">udivsi3_test(): PASS!</span>
<span class="go">udivti3_test(): SKIPPED!</span>
<span class="go">umoddi3_test(): PASS!</span>
<span class="go">umodsi3_test(): PASS!</span>
<span class="go">umodti3_test(): SKIPPED!</span>
<span class="go">unorddf2vfp_test(): SKIPPED!</span>
<span class="go">unordsf2vfp_test(): SKIPPED!</span>
<span class="go">unordtf2_test(): SKIPPED!</span>
<span class="go">...</span>
<span class="go">RET to PC &lt; 0, finished!</span>
</pre></div>
</div>
<dl class="footnote brackets">
<dt class="label" id="soft-float-lib"><span class="brackets">1</span></dt>
<dd><p><a class="reference external" href="https://gcc.gnu.org/onlinedocs/gccint/Soft-float-library-routines.html#Soft-float-library-routines">https://gcc.gnu.org/onlinedocs/gccint/Soft-float-library-routines.html#Soft-float-library-routines</a></p>
</dd>
<dt class="label" id="id13"><span class="brackets">2</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id12">2</a>)</span></dt>
<dd><p><a class="reference external" href="http://compiler-rt.llvm.org/">http://compiler-rt.llvm.org/</a></p>
</dd>
<dt class="label" id="builtins-readme"><span class="brackets"><a class="fn-backref" href="#id2">3</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/llvm-mirror/compiler-rt/blob/master/lib/builtins/README.txt">https://github.com/llvm-mirror/compiler-rt/blob/master/lib/builtins/README.txt</a></p>
</dd>
<dt class="label" id="builtins-int-math"><span class="brackets"><a class="fn-backref" href="#id3">4</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/microsoft/compiler-rt/blob/master/lib/builtins/int_math.h">https://github.com/microsoft/compiler-rt/blob/master/lib/builtins/int_math.h</a></p>
</dd>
<dt class="label" id="newlib"><span class="brackets"><a class="fn-backref" href="#id4">5</a></span></dt>
<dd><p><a class="reference external" href="https://sourceware.org/newlib/">https://sourceware.org/newlib/</a></p>
</dd>
<dt class="label" id="newlib-libm"><span class="brackets"><a class="fn-backref" href="#id5">6</a></span></dt>
<dd><p><a class="reference external" href="https://sourceware.org/newlib/libm.html">https://sourceware.org/newlib/libm.html</a></p>
</dd>
<dt class="label" id="lib-gcc"><span class="brackets"><a class="fn-backref" href="#id6">7</a></span></dt>
<dd><p><a class="reference external" href="https://gcc.gnu.org/onlinedocs/gccint/Libgcc.html">https://gcc.gnu.org/onlinedocs/gccint/Libgcc.html</a></p>
</dd>
<dt class="label" id="int-lib"><span class="brackets"><a class="fn-backref" href="#id7">8</a></span></dt>
<dd><p><a class="reference external" href="https://gcc.gnu.org/onlinedocs/gccint/Integer-library-routines.html#Integer-library-routines">https://gcc.gnu.org/onlinedocs/gccint/Integer-library-routines.html#Integer-library-routines</a></p>
</dd>
<dt class="label" id="sw-float-lib"><span class="brackets"><a class="fn-backref" href="#id8">9</a></span></dt>
<dd><p><a class="reference external" href="https://gcc.gnu.org/onlinedocs/gccint/Soft-float-library-routines.html#Soft-float-library-routines">https://gcc.gnu.org/onlinedocs/gccint/Soft-float-library-routines.html#Soft-float-library-routines</a></p>
</dd>
<dt class="label" id="math"><span class="brackets"><a class="fn-backref" href="#id9">10</a></span></dt>
<dd><p><a class="reference external" href="https://www.programiz.com/c-programming/library-function/math.h">https://www.programiz.com/c-programming/library-function/math.h</a></p>
</dd>
<dt class="label" id="clib"><span class="brackets"><a class="fn-backref" href="#id10">11</a></span></dt>
<dd><p><a class="reference external" href="https://www.cplusplus.com/reference/clibrary">https://www.cplusplus.com/reference/clibrary</a></p>
</dd>
<dt class="label" id="printf-stdarg"><span class="brackets"><a class="fn-backref" href="#id11">12</a></span></dt>
<dd><p><a class="reference external" href="https://github.com/atgreen/FreeRTOS/blob/master/Demo/CORTEX_STM32F103_Primer_GCC/printf-stdarg.c">https://github.com/atgreen/FreeRTOS/blob/master/Demo/CORTEX_STM32F103_Primer_GCC/printf-stdarg.c</a></p>
</dd>
</dl>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="opt.html">Optimization</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Chen Chung-Shu.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </body>
</html>